---
layout: presentacion
title: Virtualización de Servidores
tema: white
---
<section>
  <h2>Virtualización de Servidores</h2>
  <h3>KVM: Kernel-based Virtual Machine</h3>
  <p>
    <a href="http://albertomolina.wordpress.com">Alberto Molina Coballes</a> y
    <a href="http://www.josedomingo.org">José Domingo Muñoz Rodríguez</a>
  </p>
  <p>
    <a href="http://creativecommons.org/licenses/by-sa/3.0/">
      <img src="img/kvm/cc_by_sa.png" width="100px" border="0"/></a>
  </p>
  <p><small>Theme by: <a href="http://lab.hakim.se/reveal-js/#/">reveal.js</a></small></p>
</section>
<section data-markdown>

## Virtualización de Servidores
  
* La virtualización de servidores se ha convertido en muy poco tiempo en una tecnología confiable y una solución muy extendida en servidores x86.
* KVM, Kernel-based Virtual Machine, es uno de los últimos hipervisores en hacer su entrada en el mercado, ya abarrotado, de la virtualización.
* Como otros hipervidores tipo 1, se integra en un sistema operativo existente, principalmente Linux, aunque también se ha portado a FreeBSD y Illumos (antes OpenSolaris).
* Originariamente solo en arquitecturas x86, portado actualmente a S/390, PowerPC, IA-64 y en progreso a ARM.

</section>
<section data-markdown>

## ¿Qué es KVM?

* **KVM** (Kernel-based Virtual Machine) es un hipervisor tipo 1 que proporciona una solución completa de virtualización para el SO Linux en arquitecturas x86 que cuenten con las extensiones de virtualización Intel VT/AMD-V.

* Cuando se carga el módulo KVM, Linux se convierte en un hipervisor "bare-metal" (tipo 1) capaz de ejecutar varias máquinas virtuales (VM) aisladas. KVM hospeda las VMs como procesos, por lo que cada VM puede beneficiarse de todas las características del kernel de Linux, incluyendo todas aquellas referentes al hardware, seguridad, almacenamiento, etc.

</section>
<section data-markdown>

## Arquitectura (1)

* KVM es un módulo cargable del kernel que permite al SO Linux actuar un hipervisor “bare metal” tipo 1.
* Un hipervisor puede verse como un SO especializado en la ejecución de máquinas virtuales.
  * Pero un hipervisor tipo 1 también tiene que tratar con otras tareas más estándares como gestión de memoria, planificación de procesos, drivers de dispositivos, E/S.
* El enfoque de KVM es:
  * Implementar dentro del módulo todo lo referente a la gestión de VM. 
  * No reinventar la rueda y permitir que todo lo demás lo realice un SO probado y eficaz como Linux.
</section>

<section data-markdown>

## Arquitectura (2)

* Planificación, control de recursos y gestión de memoria
  * Bajo KVM en Linux, las VM son simplemente procesos, cualquier mejora de Linux en la gestión de procesos se aplica directamente en la gestión de VM.
* Almacenamiento
  * Las imágenes de disco de las VM se tratan como cualquier otro fichero o dispositivo de Linux.
  * Se puede utilizar para las imágenes cualquier tipo de almacenamiento soportado actualmente por Linux: discos locales, sistemas NAS, iSCSI, SAN, etc.
  * Cualquier mejora en la pila de almacenamiento será aprovechada por KVM.
</section>

<section data-markdown>

## Arquitectura (3)

* Soporte de hardware.
  * KVM hereda todo el ecosistema de dispositivos Linux. KVM podrá acceder a cualquier dispositivo soportado por Linux.
  * QEMU se utiliza para proporcionar los dispostivos de E/S que las máquinas virtuales "ven".
  * Las mejoras de Linux en cuanto a número de CPUs/cores y grandes cantidades de RAM, permiten a KVM escalar tal como Linux escala.


</section>
<section data-markdown>
* Seguridad
  * KVM también puede aprovecharse del modelo de seguridad de Linux proporcionado tanto por SELinux como por AppArmor. Ambos proporcionan, básicamente, "sandboxes" donde encerrar los procesos. Si un proceso se ve comprometido, esto no afectará al resto del sistema.
  * La seguridad proporcionada por SELinux y AppArmor aísla a las VM entre sí y a las VM del hipervisor.
</section>
<section data-markdown>

## Arquitectura (4)

![kvm](img/kvm/kvm1.png)

</section>